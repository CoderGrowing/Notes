## 撰写高质量代码之子程序

### 1. 什么是子程序

**子程序（routine）**是为了实现一个特定的目的而编写的一个可被调用的方法（method）或过程（procedure）。

### 2. 为何创建子程序

- **降低复杂度**
- **引入中间易懂的抽象，隐藏实现细节**
- **避免代码重复**，如果在两段子程序中编写相似的代码，就意味着代码分解出现了差错
- **提高可移植性**
- **改善性能**

### 3. 设计子程序

评判子程序质量高低的其中一项指标是**内聚性（cohesion）**。内聚性是指子程序中各种操作之间联系的紧密程度。内聚性高，说明程序只完成一项功能。我们应当追求最高的内聚性。

同时，内聚性也分为几个层次：

- **功能的内聚性**：最强也是最好的内聚性，也就是让一个子程序仅执行一项操作，如 sin()、getUserName() 等 
- **顺序上的内聚性**：指子程序内含有需要按特定顺序执行的操作，这些步骤需要共享数据。

### 4. 子程序命名的问题

- **描述子程序所做的所有事情**
- 
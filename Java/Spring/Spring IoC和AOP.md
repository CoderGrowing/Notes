# Spring IoC和AOP

### 1. 为何Spring

Spring可以做很多事情。但归根结底，Spring最根本的使命只有一个：**简化Java开发**。

不同于重量级的EJB（企业级JavaBean，Enterprise JavaBean），Spring是基于POJO（Plain Ordinary Java Object，简单Java对象）的。那么Spring是如何做到降低开发复杂型的呢？

- 基于POJO的轻量级和最小侵入式编程
- 通过依赖注入和面向接口实现松耦合
- 基于切面和惯例进行声明式编程
- 通过切面和模板减少样板式代码

或许Spring中最重要的概念就是IoC（控制反转）和AOP（面向切面编程）。下面我们就来看看这两个重要的思想。

### 2. IoC





### 3. AOP

AOP即Aspect Oriented Programming，面向切面编程。

#### 3.1 AOP术语

**通知（Advice）**

切面的工作被称为通知。通知定义了切面是什么以及何时使用。除了描述切面要完成的工作之外，通知还解决了何时执行这个工作的问题。

Spring内置了五种类型的通知：

- 前置通知（@Before）：在目标方法被调用之前调用通知功能
- 后置通知（@After）：在目标方法被调用之后（不关心方法的输出是什么）
- 返回通知（@AfterReturn）：在目标方法成功执行之后调用通知
- 异常通知（@AfterThrow）：在目标方法抛出异常后调用通知
- 环绕通知（@Around）：包裹了被通知的方法，调用之前、之后执行

**连接点（Join Point）**

我们的应用可能有很多个时机应用通知，这些时机被称为连接点。连接点是在应用执行过程中能够插入切面的一个点。

**切点（Pointcut）**

通知定义了“何时”和“什么”，切点定义了“何处”。

**切面（Aspect）**

切面是通知和切点的集合，它是什么、它在何处完成什么功能

**引入（Introduction）**

引入允许我们向现有的类添加新方法和树形。在不修改现有类的前提下引入新的功能

**织入（Weaving）**

织入是把切面应用到目标对象并创建新的代理对象的过程。切面在指定的连接点被织入到目标对象中。在目标对象的生命周期中有多个点可以进行织入：

- 编译器：切面在目标类编译时被织入，需要特殊的编译器
- 类加载期：切面在目标类加载到JVM时被织入，需要特殊的类加载器
- 运行期：Spring AOP就是以这种方式织入切面的






## 数据库系统概念

- **数据库系统（DBS）**：由一个互相关联的数据的集合和一组用以访问这些数据的程序组成。这个数据集合被称为**数据库**。
- **文件处理系统的弊端**：
  - 数据冗余和不一致（多个文件存储相同信息，相同信息内容却不一致）
  - 数据访问困难
  - 数据孤立（多个分散的文件）
  - 完整性问题
  - 原子性问题
  - 并发访问困难
  - 安全性问题
- **数据抽象**：通过以下几层抽象对用户屏蔽复杂度：
  - 物理层：描述数据实际上怎么存储的
  - 逻辑层：描述数据库中存储什么数据以及这些数据间的关系，逻辑层不需要考虑物理层的复杂性，成为物理数据独立性
  - 视图层：只描述数据库的某个部分
- **实例**：特定时刻存储在数据库中的集合称为数据库的一个实例
- **模式**：数据库的总体设计。物理模式在物理层描述数据库的设计，逻辑模式在逻辑层描述。而在视图层可以有几种模式，称为子模式
- **数据模型**：数据库的基础是数据模型。是一个描述数据、数据联系、数据语义以及一致性约束的概念工具的集合
  - 关系模型：用表的集合来描述数据和数据间的联系，最常用
  - 实体-联系模型（entity-relationship model），E-R模型，描述实体和实体间的联系
  - 基于对象的数据模型：E-R的封装
  - 半结构化数据模型：例如XML
- **数据库操纵语言（DML）**：使得用户可以访问和操纵那些按照适当模型组织起来的数据的语言，分为过程化DML和非过程化（声明式）DML。
- **数据库定义语言（DDL）**：通过一系列定义来说明数据库模式，这些定义就是由数据库定义语言来描述的
- **一致性约束**：数据库系统以最小化代价实现的一致性约束：
  - 域约束：即限制类型，（int、char……）
  - 参照完整性：一个关系中给定属性集上的取值也在另一个关系的某一属性集的取值中出现
  - 断言：数据库需要时刻满足的条件
  - 授权：对不同用户加以区别
- **数据库性能的度量**：
  - 吞吐量：给定时间内能完成的事务的数量
  - 响应时间：单个任务从提交到完成所需要的时间

- **关系**（relation）用来指代表，**元组（tuple）**用来指代行，**属性（attribute）**用来指代列
- 每个属性都存在一个允许取值的集合，这个集合称为该属性的**域（domain）**，如果域中元素被看做是不可再分的单元，则域是**原子的（atomic）**
- **超键（superkey）**是一个或者多个属性的集合，它可以让我们在一个关系中唯一的标识一个元组。
- **候选键（candidate key）**：如果一个超键的任意真子集都不能构成超键，这样的最小超键被称为候选键

如，{ID}是一个超键，也是一个候选键，但{ID, name}就只是一个超键，但不是候选键。同时，被数据库设计者选中的、主要用来在一个关系中区分不同元素的候选键被称为**主键（primary key）**。

一个关系模式（r1）可能在它的属性中包含另一个关系模式（r2）的主键，这个属性在r1上称作参照r2的**外键（foreign key）**。关系r1也被称为外码依赖的**参照关系（referencing relation)**，r2叫做外码的**被参照关系（referenced relation）**。

例如instructor表的模式如下：

`instructor(id, name, dept_name, salary)`

而department表模式如下：

`department(dept_name, building, budget)`

则instructor中的dept_name属性在instructor上是外键，它参照department，因为dept_name是department的主键。